# 今日待辦帖

今日待辦帖是一個貼心的待辦事項管理工具，支援 Excel 匯入/匯出功能，透過自定義標籤幫助您更好地分類管理不同工作項目，並支援超連結嵌入，讓相關資源一鍵直達。讓您的任務管理變得輕鬆又有趣！

**支援圖片顯示**：描述欄位可直接貼上圖片網址（http/https 或 base64），即可自動顯示圖片，且圖片也支援內容摺疊/展開，讓待辦清單更豐富！

## 功能特色

- **新增待辦事項** - 包含標題、內容、日期、時間、地點、備註
- **瀏覽待辦清單** - 清晰展示所有待辦事項，按日期新到舊排序
- **編輯待辦事項** - 隨時修改任何欄位
- **刪除待辦事項** - 一鍵刪除不需要的項目
- **完成狀態切換** - 點擊 checkbox 標記完成/未完成
- **篩選功能** - 可篩選全部、待完成、已完成、晚點再說的項目
- **統計資訊** - 顯示待完成、已完成、總計數量（排除晚點再說項目）
- **處理時機功能** - 可將待辦事項標記為「列入排程」或「晚點再說」，晚點再說的項目在主要篩選中隱藏，只有點擊"晚點再說"按鈕時才能查看
- **資料持久化** - 使用 localStorage 自動保存用戶資料
- **Demo 模式** - 首次使用顯示範例資料，幫助用戶了解功能
- **重置功能** - 一鍵清空本地資料並恢復 Demo 模式
- **Excel 匯出功能** - 將待辦清單匯出為 Excel 檔案
- **Excel 匯入功能** - 從 Excel 檔案匯入待辦清單
- **日期篩選功能** - 可選擇日期篩選特定時間範圍的待辦事項
- **標籤篩選功能** - 可選擇標籤篩選特定類別的待辦事項
- **淡藍色清新風格** - 現代化的 UI 設計
- **響應式設計** - 完美支援手機和桌面瀏覽
- **標籤篩選支援多選** - 點擊「標籤選擇」按鈕會開啟對話視窗，可勾選多個標籤進行複合篩選
- **標籤多選對話視窗內** - 勾選標籤時不會即時影響清單，只有按下「確定」才會套用篩選
- **點擊「清除選取」會立即清空篩選並關閉對話視窗** - 顯示所有標籤的項目
- **標籤選擇按鈕的文字靠左對齊** - 與其他元件一致
- **日期篩選區的字體大小也統一為 1rem** - 保持一致性
- **支援標籤、狀態（全部/待完成/已完成/晚點再說）、日期等多重篩選** - 提供更全面的篩選選項
- **支援複製待辦事項**：
  - 複製「晚點再說」的待辦事項時，會保留原本的日期
  - 複製其他待辦事項時，日期會設為今天

## 技術棧

- **Vue 2.6.14** - 前端框架
- **Vuex 3.6.2** - 模組化狀態管理
- **Vue Router 3.5.1** - 路由管理
- **Vite** - 構建工具
- **CSS3** - 樣式和動畫
- **Vue Awesome** - 圖標庫
- **LocalStorage** - 本地資料持久化
- **SheetJS (xlsx)** - Excel 檔案處理

## 安裝與運行

### 安裝依賴

```bash
npm install
```

### 開發模式運行

```bash
npm run serve
```

### 建置生產版本

```bash
npm run build
```

## 使用方式

1. **新增待辦事項**：點擊「新增待辦事項」按鈕，填寫表單後儲存
2. **編輯待辦事項**：點擊待辦項目旁的編輯圖標進行編輯
3. **標記完成**：點擊 checkbox 來切換完成狀態
4. **刪除待辦事項**：點擊刪除圖標刪除項目
5. **篩選查看**：使用篩選按鈕查看不同狀態的待辦事項（全部、待完成、已完成、晚點再說）
6. **處理時機**：在新增/編輯表單中選擇「列入排程」或「晚點再說」來設定處理時機
7. **匯出 Excel**：點擊「匯出 Excel」按鈕，在對話視窗中選擇匯出全部待辦事項或指定標籤的待辦事項
8. **匯入 Excel**：點擊「匯入 Excel」按鈕從 Excel 檔案匯入待辦清單
9. **日期篩選**：使用日期選擇器篩選特定日期之後的待辦事項
10. **標籤篩選**：使用標籤下拉選單篩選特定標籤的待辦事項
11. **重置資料**：點擊「重置資料」按鈕清空本地資料並恢復 Demo 模式

## 資料持久化功能

### **LocalStorage 機制**

- **自動保存**：所有新增、編輯、刪除操作都會自動保存到 localStorage
- **智慧載入**：首次使用顯示範例資料，後續使用載入用戶自訂資料
- **範例資料保護**：範例資料不會被保存到 localStorage，確保用戶資料純淨
- **重置功能**：一鍵清除所有本地資料並恢復 Demo 模式

### **資料流程**

1. **首次使用** → 顯示範例資料
2. **新增資料** → 自動清除範例資料，保存用戶資料
3. **重新載入** → 載入用戶資料（如果存在）
4. **重置資料** → 清除 localStorage，重新顯示範例資料

### **Excel 匯入匯出功能**

- **匯出格式**：Excel 檔案包含序號、日期、標題、內容、所需時間、地點、備註、標籤、狀態、處理時機等欄位
- **匯入支援**：支援從 Excel 檔案匯入待辦清單，自動解析狀態欄位和處理時機
- **資料備份**：可將待辦清單匯出為 Excel 檔案作為備份
- **資料還原**：可從 Excel 檔案匯入待辦清單進行還原
- **智慧匯出對話視窗**：點擊匯出時會彈出對話視窗，可選擇匯出全部待辦事項或指定標籤的待辦事項
- **標籤匯出功能**：支援根據指定標籤匯出特定類別的待辦事項，支援多標籤輸入（用 # 字號分隔）
- **檔案命名**：匯出的檔案會自動加上當前日期和匯出類型作為檔名（如：今日待辦帖*2025-07-06*匯出全部.xlsx）

### **日期篩選功能**

- **日期選擇器**：提供直觀的日期選擇介面
- **篩選邏輯**：顯示選擇日期之後的所有待辦事項
- **設定保存**：日期篩選設定會自動保存到 localStorage
- **清除功能**：提供清除按鈕快速移除日期篩選
- **視覺提示**：清楚顯示當前篩選的日期範圍
- **響應式設計**：在手機模式下自動調整佈局

## 專案結構

```
src/
├── components/
│   └── TodoForm.vue      # 新增/編輯表單組件
├── views/
│   ├── HomeView.vue      # 首頁視圖
│   └── TodoList.vue      # 主要待辦清單組件
├── store/
│   ├── index.js          # Vuex 主配置
│   └── modules/
│       └── todos/        # Todos 模組
│           ├── index.js  # 模組入口
│           ├── state.js  # 狀態定義（含 localStorage 邏輯）
│           ├── getters.js # 計算屬性
│           ├── mutations.js # 同步修改（含資料保存邏輯）
│           └── actions.js   # 異步操作
├── router/
│   └── index.js          # 路由配置
└── App.vue               # 根組件
```

## 架構特色

### **模組化 Vuex Store**

- **狀態分離**：將 todos 相關邏輯封裝到獨立模組
- **命名空間**：使用 `namespaced: true` 避免命名衝突
- **職責分離**：state、getters、mutations、actions 分別管理
- **資料持久化**：整合 localStorage 實現資料自動保存
- **可擴展性**：易於添加新的功能模組

### **組件設計**

- **單一職責**：每個組件專注於特定功能
- **可重用性**：TodoForm 組件支援新增和編輯模式
- **響應式設計**：適配不同螢幕尺寸
- **使用者體驗**：清晰的提示文字和直觀的操作介面

## 設計特色

- **淡藍色主題**：粉藍色背景搭配天藍色漸層
- **可愛元素**：使用 ✨ 符號和圓潤設計
- **玻璃擬態**：半透明背景和模糊效果
- **漸層色彩**：天藍色到粉藍色的漸層按鈕
- **動畫效果**：hover 和點擊的流暢動畫
- **智能排序**：待辦事項按日期新到舊自動排序
- **提示系統**：清楚的使用說明和功能提示

## 狀態管理

### **Vuex 模組結構**

```javascript
// 使用命名空間訪問
...mapGetters('todos', ['allTodos', 'completedTodos', 'pendingTodos'])
...mapActions('todos', ['addTodo', 'updateTodo', 'deleteTodo', 'toggleTodo', 'clearAllData'])
```

### **數據流程**

1. **Actions** - 處理異步操作和業務邏輯
2. **Mutations** - 同步修改狀態並保存到 localStorage
3. **Getters** - 計算派生狀態
4. **State** - 存儲原始數據（從 localStorage 載入）

## 響應式設計

### **手機模式優化**

- **垂直佈局**：標題區域改為垂直排列
- **全寬按鈕**：新增按鈕在手機上佔滿寬度
- **卡片優化**：待辦事項卡片適配小螢幕
- **字體縮放**：適當縮小字體以適應手機螢幕
- **觸控友好**：增大按鈕和觸控區域

### **桌面模式**

- **水平佈局**：標題和按鈕水平排列
- **寬敞間距**：適合大螢幕的間距設計
- **完整功能**：所有功能完整展示

## 版本紀錄

### 2.9.0

- 標籤篩選改為多選，並以對話視窗操作
- 對話視窗內勾選標籤時不會即時影響清單，只有按下「確定」才會套用篩選
- 點擊「清除選取」會立即清空篩選並關閉對話視窗，顯示所有項目
- 標籤選擇按鈕的文字靠左對齊，padding 與字體風格與其他元件一致
- 日期篩選區的字體大小也統一為 1rem
- 複製「晚點再說」的待辦事項時，會保留原本的日期，複製其他待辦事項時，日期會設為今天

### v2.8.0 (2025-07-06)

- **智慧匯出對話視窗**：點擊「匯出 Excel」時會彈出對話視窗，提供更靈活的匯出選項。
- **匯出全部功能**：可選擇匯出所有待辦事項，檔名格式為「今日待辦帖*日期*匯出全部.xlsx」。
- **標籤匯出功能**：可選擇匯出指定標籤的待辦事項，支援多標籤輸入（用 # 字號分隔，如：#運動 #音樂）。
- **防呆輸入處理**：支援多種標籤輸入格式，包括空格分隔（#運動 #音樂）和直接連接（#運動#音樂）。
- **檔案命名優化**：匯出檔案會根據匯出類型自動命名，標籤匯出時會移除 # 符號並用底線連接。
- **響應式對話視窗**：對話視窗支援手機版和電腦版，按鈕順序會根據裝置自動調整。
- **使用者體驗優化**：提供清楚的選項說明和輸入提示，讓使用者更容易理解匯出功能。

### v2.7.0 (2025-07-06)

- **新增"處理時機"功能**：在新增/編輯待辦事項表單中添加「列入排程」和「晚點再說」單選按鈕，可將待辦事項標記為不同處理時機。
- **獨立篩選按鈕**：在篩選區域新增"晚點再說"按鈕，可單獨查看所有標記為"晚點再說"的待辦事項。
- **隱藏式設計**：標記為"晚點再說"的項目在"全部"、"待完成"、"已完成"篩選中都不會顯示，只有點擊"晚點再說"按鈕時才能看到，確保主要工作流程不受干擾。
- **統計邏輯優化**：總計、待完成、已完成統計數字排除"晚點再說"項目，確保統計的準確性。
- **篩選相容性**：日期篩選和標籤篩選功能對"晚點再說"項目同樣適用。
- **Excel 匯入/匯出支援**：Excel 檔案新增"處理時機"欄位，支援匯入/匯出「列入排程」和「晚點再說」狀態。
- **複製功能優化**：複製待辦事項時會根據原項目類型決定完成狀態，晚點再說的項目保持原狀態，列入排程的項目重置為未完成。

### v2.6.0 (2025-07-06)

- **日期選擇器時區修正**：修正自定義日期選擇器的時區問題，確保選擇的日期不會因為時區轉換而偏移（如選擇 7/1 不會變成 6/30）。
- **本地日期格式處理**：使用本地日期格式而非 UTC 格式，避免時區差異導致的日期錯誤。
- **已完成項目佈局穩定性**：移除 `.completed` 樣式的 `transform: scale(0.98)` 效果，改用 `filter: grayscale(0.3)` 來表現已完成狀態，確保展開/收合時不會影響待辦事項間的間距。

### v2.5.0 (2025-07-06)

- **內容摺疊/展開功能**：當待辦描述內容（含圖片）高度超過 600px 時，自動摺疊並顯示「查看更多/收合內容」按鈕，點擊可展開/收合內容。
- **支援圖片顯示**：描述欄位可直接貼上圖片網址（http/https 或 base64），即可自動顯示圖片，並支援圖片摺疊/展開。
- **內容高度自動判斷**：內容變動（如儲存/編輯/圖片載入）後會即時重新判斷是否需要顯示摺疊按鈕，確保體驗一致。
- **資訊欄位顯示優化**：日期、時間、地點、備註、標籤等資訊永遠顯示，不會被摺疊隱藏，且僅有值時才顯示對應 icon。
- **UI/UX 微調**：摺疊按鈕採用浮動絕對定位，icon 樣式優化，按鈕顏色與 hover 效果調整，內容換行與間距細節優化。

### v2.4.0 (2025-07-05)

- **篩選標籤快速添加**：在新增/編輯表單中顯示當前篩選條件下的標籤，點擊即可快速添加到表單中
- **標籤數量限制**：篩選標籤最多顯示 12 個，超過時顯示 "+N" 指示器，保持界面整潔
- **標籤文字截斷**：下拉選單和待辦事項中的標籤超過 13 個字元時自動截斷並顯示省略號
- **台北時區支援**：所有日期相關功能（新增、複製、匯出、匯入、表單重置）都使用台北時區
- **複製確認對話框**：複製待辦事項時改為確認對話框，移除成功提示
- **匯入確認對話框**：匯入 Excel 時改為確認對話框，移除成功提示
- **URL 顯示優化**：地點欄位的 URL 也支援自動轉換為可點擊連結
- **URL 長度限制**：URL 顯示限制為 2 行，避免布局問題
- **Open Graph 優化**：更新社交媒體分享的標題和描述，提升分享體驗

### v2.3.0 (2025-07-04)

- **標籤功能**：每個待辦可自訂多個標籤（如 #工作 #生活），並於表單輸入
- **標籤篩選**：新增標籤下拉選單，可依標籤篩選待辦事項
- **標籤自動收集**：下拉選單自動收集所有現有標籤，動態更新
- **標籤與狀態篩選器 RWD**：電腦版標籤在左、狀態在右，手機版標籤在下、狀態在上，並自動撐滿寬度
- **複製待辦**：每個待辦可一鍵複製，複製後自動設為未完成、日期為今天
- **描述多行與連結**：描述欄支援多行顯示，且自動將 https 連結轉為可點擊
- **UI/UX 優化**：下拉選單、按鈕、提示、RWD、色彩等多項細節優化
- **標題與 Excel 檔名**：主標題改為「我的行動清單」，匯出 Excel 檔名同步為「行動清單\_日期.xlsx」

### **v2.2.0** (2025-07-03)

- **新增 Excel 匯出功能** - 將待辦清單匯出為 Excel 檔案
- **新增 Excel 匯入功能** - 從 Excel 檔案匯入待辦清單
- **新增日期篩選功能** - 可選擇日期篩選特定時間範圍的待辦事項
- **優化匯入匯出按鈕順序** - 調整為匯入、匯出、重置的邏輯順序
- **改善手機模式 RWD** - 確保匯入匯出按鈕在手機上維持同一列
- **新增功能提示文字** - 說明 Excel 匯入匯出功能的使用方式

### **v2.1.0** (2025-07-01)

- **新增 localStorage 資料持久化功能**
- **實作 Demo 模式和重置功能**
- **優化 UI 設計和佈局**
- **修正手機模式 RWD 問題**
- **改善使用者體驗和提示文字**
- **新增使用說明和功能提示**

### **主要改進**

1. **Excel 匯入匯出**：完整的 Excel 檔案處理功能
2. **日期篩選功能**：精確的時間範圍篩選，提升查找效率
3. **資料備份還原**：支援將待辦清單匯出為 Excel 檔案進行備份
4. **UI 優化**：調整按鈕順序和手機模式佈局
5. **功能提示**：新增 Excel 功能的使用說明
6. **資料持久化**：使用 localStorage 自動保存用戶資料和篩選設定
7. **Demo 模式**：首次使用顯示範例資料
8. **重置功能**：一鍵清空資料並恢復 Demo 模式
9. **RWD 修正**：完美支援手機和桌面瀏覽
10. **使用者體驗**：添加清楚的使用說明

## 未來規劃

- [x] 資料持久化（LocalStorage）
- [ ] 後端 API 整合
- [ ] 使用者認證
- [ ] 待辦事項分類
- [ ] 搜尋功能
- [x] 匯出功能
- [x] 日期篩選功能
- [ ] 拖拽排序
- [ ] 批量操作
- [ ] 主題切換
- [ ] 多語言支援

---

**開發者**：Chin-Yang, Huang  
**版本**：2.9.0  
**授權**：MIT
